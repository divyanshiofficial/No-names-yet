{% extends 'store/base.html' %}
{% load static %}

{% block content %}
<section style="padding: 20px; background-color: #efdfbb; min-height: 100vh;">
    
    <h2 style="font-size: 3em; font-weight: bold; margin-bottom: 20px;">
        <a href="{% url 'catalog' %}" style="text-decoration: none; color: #5c4033;">Customer Dashboard</a>
    </h2>

    <div style="display: flex; justify-content: center; margin-top:50px;">
        <div class="tableauPlaceholder" id="vizCustomerDashboard" style="width: 100%; max-width: 1200px; position: relative;">
            <noscript>
                <a href="https://public.tableau.com/views/ttn_project/Dashboard2">
                    <img alt="Dashboard 2" src="https://public.tableau.com/static/images/tt/ttn_project/Dashboard2/1.png" style="border: none;" />
                </a>
            </noscript>
            <object class="tableauViz" style="display:none;">
                <param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F" />
                <param name="embed_code_version" value="3" />
                <param name="site_root" value="" />
                <param name="name" value="ttn_project/Dashboard2" />
                <param name="tabs" value="no" />
                <param name="toolbar" value="yes" />
                <param name="static_image" value="https://public.tableau.com/static/images/tt/ttn_project/Dashboard2/1.png" />
                <param name="animate_transition" value="yes" />
                <param name="display_static_image" value="yes" />
                <param name="display_spinner" value="yes" />
                <param name="display_overlay" value="yes" />
                <param name="display_count" value="yes" />
                <param name="language" value="en-US" />
            </object>
        </div>
    </div>

    <script type="text/javascript">
        var divElement = document.getElementById('vizCustomerDashboard');
        var vizElement = divElement.getElementsByTagName('object')[0];
        if (divElement.offsetWidth > 800) {
            vizElement.style.width = '1000px';
            vizElement.style.height = '827px';
        } else if (divElement.offsetWidth > 500) {
            vizElement.style.width = '1000px';
            vizElement.style.height = '827px';
        } else {
            vizElement.style.width = '100%';
            vizElement.style.height = '1677px';
        }
        var scriptElement = document.createElement('script');
        scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
        vizElement.parentNode.insertBefore(scriptElement, vizElement);
    </script>
</section>
{% endblock %}
